<html>
<head>
  <title>444</title>
  <meta charset="UTF-8">
</head>
<body>
  <svg viewBox="-150 -80 900 600">
    　　<rect x="-150" y="-80" width="900" height="600" fill="#FFFFFF"/>
    　　<script>
            var a=2
            var b=2
            var c=[[1,3,3,1],[4,4,4,4],[4,3,1,2],[1,2,4,3]]
            var d=0
            var check=[1,2,3,4]
            check=JSON.stringify(check);
            document.getElementById("black_txt").textContent =c[a][b];
            function reset(){
              a=2;
              b=2;
              c=[[1,3,3,1],[4,4,4,4],[4,3,1,2],[1,2,4,3]]
              d=0;
              document.getElementById("black_txt").textContent =c[a][b];
              document.getElementById("green_txt").textContent =d+1;
              document.getElementById("left_txt").textContent=0;
              document.getElementById("middle_txt").textContent=2;
              document.getElementById("right_txt").textContent=2;
            }
            function down(){
                 d+=1;
                 d%=4;
                 document.getElementById("green_txt").textContent =d+1;
                 if (a<3) a+=1;
                 document.getElementById("black_txt").textContent =c[a][b];
            }
            function up(){
                 d+=1;
                 d%=4;
                 document.getElementById("green_txt").textContent =d+1;
                 if (a>0) a-=1;
                 document.getElementById("black_txt").textContent =c[a][b];
            }
            function left(){
                 d+=1;
                 d%=4;
                 document.getElementById("green_txt").textContent =d+1;
                 if (b>0) b-=1;
                 document.getElementById("black_txt").textContent =c[a][b];
            }
            function right(){
                 d+=1;
                 d%=4;
                 document.getElementById("green_txt").textContent =d+1;
                 if (b<3) b+=1;
                 document.getElementById("black_txt").textContent =c[a][b];
            }
            function leftword(){
              var l=[0,2];
              var flag=0;
              for (let i=0;i<2;i++){
                for (let j=0;j<2;j++){
                  var lw=[c[l[i]][l[j]],c[l[i]+1][l[j]],c[l[i]][l[j]+1],c[l[i]+1][l[j]+1]];
                  lw=lw.sort(function(a,b){return a-b;});
                  if (JSON.stringify(lw)==check){
                    flag+=1
                  }
                }
              }
              return flag;
            }
            function middleword(){
              var flag=0;
              for (let i=0;i<4;i++){
                  var mw=[c[0][i],c[1][i],c[2][i],c[3][i]];
                  mw=mw.sort(function(a,b){return a-b;});
                  if (JSON.stringify(mw)==check){
                    flag+=1
                }
              }
              return flag;
            }
            function rightword(x,y){
              var flag=0;
              for (let i=0;i<4;i++){
                  var mw=[c[i][0],c[i][1],c[i][2],c[i][3]];
                  mw=mw.sort(function(a,b){return a-b;});
                  if (JSON.stringify(mw)==check){
                    flag+=1
                }
              }
              return flag;
            }
            function touch(){
                 if (d==0){
                var a1=[4,3,2,1]
                 c[a][b]=a1[c[a][b]-1]
                 c[(a-1)%4][b]=a1[c[(a-1)%4][b]-1]
                 c[a][(b-1)%4]=a1[c[a][(b-1)%4]-1];
                 c[(a-1)%4][(b-1)%4]=a1[c[(a-1)%4][(b-1)%4]-1];
                 }
                 if (d==1){
                 var a2=[1,4,3,2]
                 c[a][b]=a2[c[a][b]-1]
                 c[(a-1)%4][b]=a2[c[(a-1)%4][b]-1];
                 c[a][(b-1)%4]=a2[c[a][(b-1)%4]-1];
                 c[(a-1)%4][(b-1)%4]=a2[c[(a-1)%4][(b-1)%4]-1];
                 }
                 if (d==2){
                 var a3=[2,1,4,3]
                 c[a][b]=a3[c[a][b]-1];
                 c[(a-1)%4][b]=a3[c[(a-1)%4][b]-1];
                 c[a][(b-1)%4]=a3[c[a][(b-1)%4]-1];
                 c[(a-1)%4][(b-1)%4]=a3[c[(a-1)%4][(b-1)%4]-1];
                 }
                 if (d==3){
                 var a4=[3,2,1,4]
                 c[a][b]=a4[c[a][b]-1];
                 c[(a-1)%4][b]=a4[c[(a-1)%4][b]-1];
                 c[a][(b+1)%4]=a4[c[a][(b-1)%4]-1];
                 c[(a-1)%4][(b-1)%4]=a4[c[(a-1)%4][(b-1)%4]-1];
                 }
                 document.getElementById("black_txt").textContent =c[a][b];
                 var le=leftword();
                 var mi=middleword();
                 var ri=rightword();
                 document.getElementById("left_txt").textContent=le;
                 document.getElementById("middle_txt").textContent=mi;
                 document.getElementById("right_txt").textContent=ri;
                 if(le==4&mi==4&ri==4){
                   alert("Password:suudoku");
                 }

            }
        </script>
        <text x="260" y="0" text-anchor="middle" font-size="60"
              cursor="default" id="left_txt">2</text>
        <text x="300" y="0" text-anchor="middle" font-size="60"
              cursor="default" id="middle_txt"></text>
        <text x="340" y="0" text-anchor="middle" font-size="60"
              cursor="default" id="right_txt">2</text>
        <rect x="200" y="200" width="50" height="50" fill="#EEEAAA" onclick="up()" stroke="black"
              >
        </rect>
        <rect x="250" y="200" width="50" height="50" fill="#EEEAAA" onclick="down()" stroke="black"
            >
        </rect>
        <rect x="300" y="200" width="50" height="50" fill="#EEEAAA" onclick="left()" stroke="black"
              >
        </rect>
        <rect x="350" y="200" width="50" height="50" fill="#EEEAAA" onclick="right()" stroke="black"
              >
        </rect>
        <rect x="200" y="250" width="200" height="50" fill="#EEAAAA" onclick="touch()" stroke="black"
              >
        </rect>
        <rect x="260" y="330" width="80" height="50" fill="#EEEEAA" onclick="reset()" stroke="black"
              >
        </rect>
        <rect x="275" y="80" width="50" height="50" stroke="black" fill="#FFFFFF"/>
        <text x="300" y="115" text-anchor="middle" font-size="30" fill="black" id="black_txt"
            cursor="default">1</text>
        <rect x="100" y="220" width="50" height="50" stroke="black" fill="#FFFFFF"/>
        <text x="125" y="255" text-anchor="middle" font-size="30" fill="green" id="green_txt"
            cursor="default">1</text>
        <text x="300" y="363" text-anchor="middle" font-size="20" fill="black" onclick="reset()"
            cursor="default">
            リセット
        </text>
  </svg>
</body>
</html>
